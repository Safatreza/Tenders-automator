(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3116,e=>{"use strict";e.s(["Clock",()=>t],3116);let t=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},56272,e=>{"use strict";e.s(["CheckSquare",()=>t],56272);let t=(0,e.i(75254).default)("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},86536,e=>{"use strict";e.s(["Eye",()=>t],86536);let t=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},87316,42920,e=>{"use strict";e.s(["Calendar",()=>s],87316);var t=e.i(75254);let s=(0,t.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Building",()=>a],42920);let a=(0,t.default)("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]])},36883,e=>{"use strict";e.s(["default",()=>G],36883);var t,s=e.i(43476),a=e.i(71645),n=e.i(18566),r=e.i(17255),i=e.i(19455),l=e.i(15288),c=e.i(77572),d=e.i(1568),o=e.i(78583),m=e.i(75254);let u=(0,m.default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var h=e.i(75157),p=e.i(81140),x=e.i(30030),f=e.i(69340),v=e.i(20783),y=e.i(53660),j=(e.i(74606),e.i(96626)),g=e.i(48425),N=e.i(26330),b="HoverCard",[w,k]=(0,x.createContextScope)(b,[y.createPopperScope]),C=(0,y.createPopperScope)(),[T,M]=w(b),E=e=>{let{__scopeHoverCard:t,children:n,open:r,defaultOpen:i,onOpenChange:l,openDelay:c=700,closeDelay:d=300}=e,o=C(t),m=a.useRef(0),u=a.useRef(0),h=a.useRef(!1),p=a.useRef(!1),[x,v]=(0,f.useControllableState)({prop:r,defaultProp:null!=i&&i,onChange:l,caller:b}),j=a.useCallback(()=>{clearTimeout(u.current),m.current=window.setTimeout(()=>v(!0),c)},[c,v]),g=a.useCallback(()=>{clearTimeout(m.current),h.current||p.current||(u.current=window.setTimeout(()=>v(!1),d))},[d,v]),N=a.useCallback(()=>v(!1),[v]);return a.useEffect(()=>()=>{clearTimeout(m.current),clearTimeout(u.current)},[]),(0,s.jsx)(T,{scope:t,open:x,onOpenChange:v,onOpen:j,onClose:g,onDismiss:N,hasSelectionRef:h,isPointerDownOnContentRef:p,children:(0,s.jsx)(y.Root,{...o,children:n})})};E.displayName=b;var S="HoverCardTrigger",R=a.forwardRef((e,t)=>{let{__scopeHoverCard:a,...n}=e,r=M(S,a),i=C(a);return(0,s.jsx)(y.Anchor,{asChild:!0,...i,children:(0,s.jsx)(g.Primitive.a,{"data-state":r.open?"open":"closed",...n,ref:t,onPointerEnter:(0,p.composeEventHandlers)(e.onPointerEnter,I(r.onOpen)),onPointerLeave:(0,p.composeEventHandlers)(e.onPointerLeave,I(r.onClose)),onFocus:(0,p.composeEventHandlers)(e.onFocus,r.onOpen),onBlur:(0,p.composeEventHandlers)(e.onBlur,r.onClose),onTouchStart:(0,p.composeEventHandlers)(e.onTouchStart,e=>e.preventDefault())})})});R.displayName=S;var[D,P]=w("HoverCardPortal",{forceMount:void 0}),A="HoverCardContent",H=a.forwardRef((e,t)=>{let a=P(A,e.__scopeHoverCard),{forceMount:n=a.forceMount,...r}=e,i=M(A,e.__scopeHoverCard);return(0,s.jsx)(j.Presence,{present:n||i.open,children:(0,s.jsx)(O,{"data-state":i.open?"open":"closed",...r,onPointerEnter:(0,p.composeEventHandlers)(e.onPointerEnter,I(i.onOpen)),onPointerLeave:(0,p.composeEventHandlers)(e.onPointerLeave,I(i.onClose)),ref:t})})});H.displayName=A;var O=a.forwardRef((e,n)=>{let{__scopeHoverCard:r,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,...o}=e,m=M(A,r),u=C(r),h=a.useRef(null),x=(0,v.useComposedRefs)(n,h),[f,j]=a.useState(!1);return a.useEffect(()=>{if(f){let e=document.body;return t=e.style.userSelect||e.style.webkitUserSelect,e.style.userSelect="none",e.style.webkitUserSelect="none",()=>{e.style.userSelect=t,e.style.webkitUserSelect=t}}},[f]),a.useEffect(()=>{if(h.current){let e=()=>{j(!1),m.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var e;(null==(e=document.getSelection())?void 0:e.toString())!==""&&(m.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",e),()=>{document.removeEventListener("pointerup",e),m.hasSelectionRef.current=!1,m.isPointerDownOnContentRef.current=!1}}},[m.isPointerDownOnContentRef,m.hasSelectionRef]),a.useEffect(()=>{h.current&&(function(e){let t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;s.nextNode();)t.push(s.currentNode);return t})(h.current).forEach(e=>e.setAttribute("tabindex","-1"))}),(0,s.jsx)(N.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:d,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:(0,p.composeEventHandlers)(c,e=>{e.preventDefault()}),onDismiss:m.onDismiss,children:(0,s.jsx)(y.Content,{...u,...o,onPointerDown:(0,p.composeEventHandlers)(o.onPointerDown,e=>{e.currentTarget.contains(e.target)&&j(!0),m.hasSelectionRef.current=!1,m.isPointerDownOnContentRef.current=!0}),ref:x,style:{...o.style,userSelect:f?"text":void 0,WebkitUserSelect:f?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})});function I(e){return t=>"touch"===t.pointerType?void 0:e()}a.forwardRef((e,t)=>{let{__scopeHoverCard:a,...n}=e,r=C(a);return(0,s.jsx)(y.Arrow,{...r,...n,ref:t})}).displayName="HoverCardArrow";let L=a.forwardRef((e,t)=>{let{className:a,align:n="center",sideOffset:r=4,...i}=e;return(0,s.jsx)(H,{ref:t,align:n,sideOffset:r,className:(0,h.cn)("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...i})});L.displayName=H.displayName;var B=e.i(87486);function F(e){let{snippet:t,page:a,documentId:n,className:r,onClick:l,onViewDocument:c}=e;return(0,s.jsxs)(E,{children:[(0,s.jsx)(R,{asChild:!0,children:(0,s.jsxs)(B.Badge,{variant:"secondary",className:(0,h.cn)("inline-flex items-center gap-1 px-2 py-1 text-xs font-medium bg-blue-50 text-blue-700 hover:bg-blue-100 cursor-pointer transition-colors border border-blue-200",r),onClick:l,children:[(0,s.jsx)(o.FileText,{className:"h-3 w-3"}),"p.",a]})}),(0,s.jsx)(L,{className:"w-80",side:"top",children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(o.FileText,{className:"h-4 w-4 text-blue-600"}),(0,s.jsxs)("span",{className:"font-semibold text-sm",children:["Page ",a]})]}),(0,s.jsx)(B.Badge,{variant:"outline",className:"text-xs",children:"Document Citation"})]}),(0,s.jsx)("div",{className:"text-sm text-gray-700 leading-relaxed",children:(0,s.jsx)("div",{className:"bg-gray-50 p-3 rounded-md border-l-4 border-blue-400",children:(0,s.jsxs)("span",{className:"italic",children:['"',t.length>200?t.slice(0,200)+"...":t,'"']})})}),c&&(0,s.jsx)("div",{className:"flex justify-end pt-2",children:(0,s.jsxs)(i.Button,{variant:"outline",size:"sm",onClick:e=>{e.stopPropagation(),null==c||c(n,a)},className:"text-xs",children:[(0,s.jsx)(u,{className:"h-3 w-3 mr-1"}),"View in Document"]})})]})})]})}var q=e.i(56272),z=e.i(86536);let _=(0,m.default)("thumbs-up",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]),V=(0,m.default)("thumbs-down",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);var K=e.i(31343),U=e.i(87316),W=e.i(42920),J=e.i(84614),Y=e.i(3116);let Z=(0,m.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);var $=e.i(1851);function G(){let e=(0,n.useParams)(),t=(0,n.useRouter)(),{data:m}=(0,r.useSession)(),u=e.id,[h,p]=(0,a.useState)(null),[x,f]=(0,a.useState)(!0),[v,y]=(0,a.useState)("");(0,a.useEffect)(()=>{j()},[u]);let j=async()=>{try{f(!0);let e=await fetch("/api/tenders/".concat(u));if(e.ok){let t=await e.json();p(t.data)}else p({id:u,title:"IT Infrastructure Modernization Project",agency:"Department of Technology",status:"READY_FOR_REVIEW",publishedAt:new Date("2024-01-15"),dueAt:new Date("2024-03-15"),createdAt:new Date("2024-01-10"),updatedAt:new Date("2024-01-20"),summary:[{blockKey:"scope",contentMarkdown:"## Project Scope\n\nThis tender seeks qualified vendors to modernize the IT infrastructure across all government departments. The project includes:\n\n- Server hardware upgrade and consolidation\n- Network infrastructure enhancement\n- Cloud migration services\n- Cybersecurity implementation\n\n[📄 p.3](trace:trace1) The modernization must be completed within 18 months and include comprehensive training for IT staff.",traceLinks:[{id:"trace1",page:3,snippet:"The modernization must be completed within 18 months",documentId:"doc1"}]},{blockKey:"eligibility",contentMarkdown:"## Eligibility Criteria\n\nEligible vendors must demonstrate:\n\n- Minimum 5 years experience in government IT projects\n- ISO 27001 certification for information security\n- Local presence with 24/7 support capability\n- Financial capacity of $10M+ annual revenue\n\n[📄 p.7](trace:trace2) Only pre-qualified vendors from the government supplier registry may participate.",traceLinks:[{id:"trace2",page:7,snippet:"Only pre-qualified vendors from the government supplier registry",documentId:"doc1"}]}],checklist:[{key:"tax-certificate",label:"Tax Certificate",status:"OK",notes:"Found mention of tax compliance in eligibility section",traceLinks:[{id:"trace3",page:8,snippet:"Valid tax clearance certificate required",documentId:"doc1"}]},{key:"iso-9001",label:"ISO 9001 Certification",status:"MISSING",notes:"No mention of quality management certification",traceLinks:[]},{key:"technical-specifications",label:"Technical Specifications",status:"OK",notes:"Detailed technical requirements provided",traceLinks:[{id:"trace4",page:12,snippet:"Technical specifications and system requirements",documentId:"doc1"}]}],documents:[{id:"doc1",filename:"IT_Modernization_RFP.pdf",pages:45,createdAt:new Date("2024-01-10")},{id:"doc2",filename:"Technical_Requirements.docx",pages:12,createdAt:new Date("2024-01-12")}],runs:[{id:"run1",pipelineName:"phase1-mvp",status:"COMPLETED",startedAt:new Date("2024-01-20T10:00:00"),finishedAt:new Date("2024-01-20T10:15:00")}]})}catch(e){console.error("Error fetching tender:",e)}finally{f(!1)}},g=async e=>{try{(await fetch("/api/tenders/".concat(u,"/approve"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"approve"===e?"APPROVED":"REJECTED",comment:v})})).ok&&(await j(),y(""),alert("Tender ".concat(e,"d successfully")))}catch(t){console.error("Error ".concat(e,"ing tender:"),t)}},N=()=>(null==h?void 0:h.checklist.length)?Math.round(h.checklist.filter(e=>"OK"===e.status).length/h.checklist.length*100):0;return x?(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):h?(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(i.Button,{variant:"outline",onClick:()=>t.push("/tenders"),children:"← Back"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:h.title}),(0,s.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[h.agency&&(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(W.Building,{className:"h-4 w-4"}),h.agency]}),h.dueAt&&(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(U.Calendar,{className:"h-4 w-4"}),"Due ",(0,$.format)(new Date(h.dueAt),"MMM d, yyyy")]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(Y.Clock,{className:"h-4 w-4"}),"Created ",(0,$.format)(new Date(h.createdAt),"MMM d, yyyy")]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(d.StatusBadge,{status:h.status}),"DRAFT"===h.status&&(0,s.jsxs)(i.Button,{children:[(0,s.jsx)(K.Play,{className:"h-4 w-4 mr-2"}),"Process"]})]})]})}),(0,s.jsx)(l.Card,{className:"mb-6",children:(0,s.jsx)(l.CardContent,{className:"pt-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:h.documents.length}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Documents"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[N(),"%"]}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Checklist Complete"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:h.summary.length}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Summary Sections"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:h.runs.length}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Pipeline Runs"})]})]})})}),(0,s.jsxs)(c.Tabs,{defaultValue:"summary",className:"space-y-6",children:[(0,s.jsxs)(c.TabsList,{className:"grid w-full grid-cols-4",children:[(0,s.jsxs)(c.TabsTrigger,{value:"summary",className:"flex items-center gap-2",children:[(0,s.jsx)(o.FileText,{className:"h-4 w-4"}),"Summary"]}),(0,s.jsxs)(c.TabsTrigger,{value:"checklist",className:"flex items-center gap-2",children:[(0,s.jsx)(q.CheckSquare,{className:"h-4 w-4"}),"Checklist"]}),(0,s.jsxs)(c.TabsTrigger,{value:"documents",className:"flex items-center gap-2",children:[(0,s.jsx)(z.Eye,{className:"h-4 w-4"}),"Documents"]}),(0,s.jsxs)(c.TabsTrigger,{value:"approval",className:"flex items-center gap-2",children:[(0,s.jsx)(J.User,{className:"h-4 w-4"}),"Approval"]})]}),(0,s.jsx)(c.TabsContent,{value:"summary",children:(0,s.jsx)("div",{className:"space-y-6",children:h.summary.map(e=>(0,s.jsx)(l.Card,{children:(0,s.jsxs)(l.CardContent,{className:"pt-6",children:[(0,s.jsx)("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:e.contentMarkdown.replace(/\[📄 p\.(\d+)\]\(trace:([^)]+)\)/g,'<span class="inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-blue-100 text-blue-800 cursor-pointer">📄 p.$1</span>')}}),e.traceLinks.length>0&&(0,s.jsxs)("div",{className:"mt-4 pt-4 border-t",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Citations:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:e.traceLinks.map(e=>(0,s.jsx)(F,{snippet:e.snippet,page:e.page,documentId:e.documentId},e.id))})]})]})},e.blockKey))})}),(0,s.jsx)(c.TabsContent,{value:"checklist",children:(0,s.jsxs)(l.Card,{children:[(0,s.jsx)(l.CardHeader,{children:(0,s.jsxs)(l.CardTitle,{className:"flex items-center justify-between",children:["Compliance Checklist",(0,s.jsxs)(B.Badge,{variant:"outline",children:[N(),"% Complete"]})]})}),(0,s.jsx)(l.CardContent,{children:(0,s.jsx)("div",{className:"space-y-4",children:h.checklist.map(e=>(0,s.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("h4",{className:"font-medium",children:e.label}),(0,s.jsx)(d.StatusBadge,{status:e.status})]}),e.notes&&(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.notes}),e.traceLinks.length>0&&(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:e.traceLinks.map(e=>(0,s.jsx)(F,{snippet:e.snippet,page:e.page,documentId:e.documentId},e.id))})]},e.key))})})]})}),(0,s.jsx)(c.TabsContent,{value:"documents",children:(0,s.jsxs)(l.Card,{children:[(0,s.jsx)(l.CardHeader,{children:(0,s.jsx)(l.CardTitle,{children:"Documents"})}),(0,s.jsx)(l.CardContent,{children:(0,s.jsx)("div",{className:"space-y-3",children:h.documents.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(o.FileText,{className:"h-5 w-5 text-blue-600"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",children:e.filename}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:[e.pages," pages • Uploaded ",(0,$.format)(new Date(e.createdAt),"MMM d, yyyy")]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(i.Button,{variant:"outline",size:"sm",children:[(0,s.jsx)(z.Eye,{className:"h-4 w-4 mr-2"}),"View"]}),(0,s.jsxs)(i.Button,{variant:"outline",size:"sm",children:[(0,s.jsx)(Z,{className:"h-4 w-4 mr-2"}),"Download"]})]})]},e.id))})})]})}),(0,s.jsx)(c.TabsContent,{value:"approval",children:(0,s.jsxs)("div",{className:"space-y-6",children:[!!(null==m?void 0:m.user)&&(null==h?void 0:h.status)==="READY_FOR_REVIEW"&&["REVIEWER","ADMIN"].includes(m.user.role)&&(0,s.jsxs)(l.Card,{children:[(0,s.jsx)(l.CardHeader,{children:(0,s.jsx)(l.CardTitle,{children:"Review & Approval"})}),(0,s.jsxs)(l.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Comments (Optional)"}),(0,s.jsx)("textarea",{value:v,onChange:e=>y(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:3,placeholder:"Add any comments or feedback..."})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsxs)(i.Button,{onClick:()=>g("approve"),className:"bg-green-600 hover:bg-green-700",children:[(0,s.jsx)(_,{className:"h-4 w-4 mr-2"}),"Approve"]}),(0,s.jsxs)(i.Button,{onClick:()=>g("reject"),variant:"destructive",children:[(0,s.jsx)(V,{className:"h-4 w-4 mr-2"}),"Reject"]})]})]})]}),(0,s.jsxs)(l.Card,{children:[(0,s.jsx)(l.CardHeader,{children:(0,s.jsx)(l.CardTitle,{children:"Pipeline Runs"})}),(0,s.jsx)(l.CardContent,{children:(0,s.jsx)("div",{className:"space-y-3",children:h.runs.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",children:e.pipelineName}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:["Started ",(0,$.format)(new Date(e.startedAt),"MMM d, yyyy HH:mm"),e.finishedAt&&(0,s.jsxs)("span",{children:[" • Finished ",(0,$.format)(new Date(e.finishedAt),"HH:mm")]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(d.StatusBadge,{status:e.status}),(0,s.jsx)(i.Button,{variant:"outline",size:"sm",children:"View Logs"})]})]},e.id))})})]})]})})]})]}):(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Tender not found"}),(0,s.jsx)("p",{className:"text-gray-600 mt-2",children:"The requested tender could not be found."}),(0,s.jsx)(i.Button,{onClick:()=>t.push("/tenders"),className:"mt-4",children:"Back to Tenders"})]})})}}]);